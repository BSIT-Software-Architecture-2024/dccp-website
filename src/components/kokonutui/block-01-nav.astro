---
import { Menu, Sparkles, X } from "lucide-react";

const LINKS = [
    { href: "/academics", label: "Academics" },
    { href: "/about", label: "About" },
    { href: "/news", label: "News" },
    { href: "/contact", label: "Contact" },
];
---

<nav class="absolute top-0 w-full p-4 sm:p-6 flex justify-between items-center z-50">
    <div class="flex items-center gap-2">
        <div class="h-8 w-8 rounded-lg bg-zinc-900 dark:bg-white flex items-center justify-center">
            <Sparkles className="h-5 w-5 text-white dark:text-black" />
        </div>
        <span class="font-bold text-xl text-zinc-900 dark:text-white">
            DCCP
        </span>
    </div>

    <div class="hidden md:flex gap-8 items-center">
        {LINKS.map((link) => (
            <a
                href={link.href}
                class="text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200 transition-colors duration-200 text-sm font-medium"
            >
                {link.label}
            </a>
        ))}
    </div>
    <div class="hidden md:flex items-center gap-4">
        <a
            href="https://dccp-portal-v1-beta.vercel.app"
            class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"
        >
            Student Portal
        </a>
        <a
            href="/enrollment"
            class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-zinc-900 dark:bg-white text-white dark:text-black hover:bg-zinc-800 dark:hover:bg-zinc-200 h-9 px-4 py-2"
        >
            Enroll Now
        </a>
    </div>

    <button
        type="button"
        class="md:hidden"
        id="menu-button"
        aria-label="Toggle menu"
    >
        <Menu className="h-6 w-6 text-zinc-900 dark:text-white" />
    </button>

    <div id="mobile-menu" class="fixed inset-0 bg-white dark:bg-black z-40 hidden">
        <div class="absolute top-4 right-4">
            <button
                type="button"
                id="close-menu-button"
                class="p-2"
                aria-label="Close menu"
            >
                <X className="h-6 w-6 text-zinc-900 dark:text-white" />
            </button>
        </div>
        <div class="flex flex-col items-center justify-center h-full gap-8">
            {LINKS.map((link) => (
                <a
                    href={link.href}
                    class="text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200 transition-colors duration-200 text-lg font-medium"
                >
                    {link.label}
                </a>
            ))}
            <div class="flex flex-col items-center gap-4 mt-4">
                <a
                    href="https://dccp-portal-v1-beta.vercel.app"
                    class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"
                >
                    Student Portal
                </a>
                <a
                    href="/enrollment"
                    class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-zinc-900 dark:bg-white text-white dark:text-black hover:bg-zinc-800 dark:hover:bg-zinc-200 h-9 px-4 py-2"
                >
                    Enroll Now
                </a>
            </div>
        </div>
    </div>
</nav>

<script>
    const menuButton = document.getElementById('menu-button');
    const closeMenuButton = document.getElementById('close-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');

    menuButton?.addEventListener('click', () => {
        mobileMenu?.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
    });

    closeMenuButton?.addEventListener('click', () => {
        mobileMenu?.classList.add('hidden');
        document.body.style.overflow = '';
    });
</script>
